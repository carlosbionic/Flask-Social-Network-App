{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Individual blog post{% endblock %}</h1>
{% endblock %}

{% block content %}
    <article class="post">
        <header>
            <div>
                <h1>{{ post['title'] }}</h1>
                <div class="about">by {{ post['username'] }} on {{ post['created'].strftime('%Y-%m-%d') }}</div>
            </div>
        </header>
        <p class="body">{{ post['body'] }}</p>
        
        <!-- LIKES/DISLIKES -->
        <div class="likes">
            {% set likeP = session['user_id']|string in post['likers'].split(',') %}
            {% set dislikeP = session['user_id']|string in post['dislikers'].split(',') %}
            <a class="like {% if likeP %} likeActive {% endif %}" href="{{ url_for('blog.like_post', id=post['id'], likeOrDislike='like') }}">👍 {{ post['likes_count'] }}</a>
            <a class="dislike {% if dislikeP %} likeActive {% endif %}" href="{{ url_for('blog.like_post', id=post['id'], likeOrDislike='dislike') }}">👎 {{ post['dislikes_count'] }}</a>
        </div>
    </article>
{% endblock %}